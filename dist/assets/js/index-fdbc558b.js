import{_ as O}from"./index-d11ae465.js";import{i as x}from"./getStyleSheets-aae39d8c.js";import{k as L,aN as F,e as N,$ as E,j as R,i as $,f as G,ah as p,o as P,c as S,W as a,Q as r,P as M,K as U,a as _,V as j,u as f,n as K}from"./@vue-d9027515.js";import"./pinia-be7e992d.js";import"./vue-demi-71ba0ef2.js";import"./vue-router-a2fac16f.js";import"./vue-i18n-0a4428f9.js";import"./@intlify-ea47d1db.js";import"./source-map-7d7e1c08.js";import"./vue-0d97455d.js";import"./js-cookie-cf83ad76.js";import"./@element-plus-96a31696.js";import"./nprogress-08a53ce8.js";import"./axios-707ed124.js";import"./qs-de266cd2.js";import"./side-channel-53d8bc92.js";import"./get-intrinsic-b9397c9a.js";import"./has-symbols-e8f3ca0e.js";import"./function-bind-22e7ee79.js";import"./has-26d28e02.js";import"./call-bind-6799e9cc.js";import"./object-inspect-8fd4bade.js";import"./element-plus-53094f07.js";import"./lodash-es-36eb724a.js";import"./@vueuse-2d9216d7.js";import"./@sxzz-c75af06c.js";import"./@ctrl-f8748455.js";import"./dayjs-f6fdf7b4.js";import"./async-validator-dee29e8b.js";import"./memoize-one-297ddbcb.js";import"./escape-html-b8998962.js";import"./normalize-wheel-es-ed76fb12.js";import"./@floating-ui-8a8891e3.js";import"./mitt-f7ef348c.js";import"./vue-grid-layout-17dc42b6.js";const Q={class:"icon-selector w100 h100"},q={class:"icon-selector-warp"},H={class:"icon-selector-warp-title"},J=L({name:"iconSelector"}),Ae=L({...J,props:{prepend:{type:String,default:()=>"ele-Pointer"},placeholder:{type:String,default:()=>"请输入内容搜索图标或者选择图标"},size:{type:String,default:()=>"default"},title:{type:String,default:()=>"请选择图标"},disabled:{type:Boolean,default:()=>!1},clearable:{type:Boolean,default:()=>!0},emptyDescription:{type:String,default:()=>"无相关图标"},modelValue:String},emits:["update:modelValue","get","clear"],setup(n,{emit:d}){const i=n,m=F(()=>O(()=>import("./list-8126f53a.js"),["assets/js/list-8126f53a.js","assets/js/@vue-d9027515.js","assets/js/_plugin-vue_export-helper-c27b6911.js","assets/css/list-b398b70a.css"])),s=N(),e=E({fontIconPrefix:"",fontIconWidth:0,fontIconSearch:"",fontIconPlaceholder:"",fontIconTabActive:"ali",fontIconList:{ali:[],ele:[],awe:[]}}),C=()=>{if(!i.modelValue)return!1;e.fontIconSearch="",e.fontIconPlaceholder=i.modelValue},k=()=>{const t=y();setTimeout(()=>{t.filter(l=>l===e.fontIconSearch).length<=0&&(e.fontIconSearch="")},300)},u=R(()=>{const t=y();if(!e.fontIconSearch)return t;let o=e.fontIconSearch.trim().toLowerCase();return t.filter(l=>{if(l.toLowerCase().indexOf(o)!==-1)return l})}),y=()=>{let t=[];return e.fontIconTabActive==="ali"?t=e.fontIconList.ali:e.fontIconTabActive==="ele"?t=e.fontIconList.ele:e.fontIconTabActive==="awe"&&(t=e.fontIconList.awe),t},b=()=>{if(i.modelValue==="")return e.fontIconPlaceholder=i.placeholder;e.fontIconPlaceholder=i.modelValue,e.fontIconPrefix=i.modelValue},v=()=>{let t="ali";return i.modelValue.indexOf("iconfont")>-1?t="ali":i.modelValue.indexOf("ele-")>-1?t="ele":i.modelValue.indexOf("fa")>-1&&(t="awe"),e.fontIconTabActive=t,t},w=async t=>{if(t==="ali"){if(e.fontIconList.ali.length>0)return;await x.ali().then(o=>{e.fontIconList.ali=o.map(l=>`iconfont ${l}`)})}else if(t==="ele"){if(e.fontIconList.ele.length>0)return;await x.ele().then(o=>{e.fontIconList.ele=o})}else if(t==="awe"){if(e.fontIconList.awe.length>0)return;await x.awe().then(o=>{e.fontIconList.awe=o.map(l=>`fa ${l}`)})}e.fontIconPlaceholder=i.placeholder,b()},T=t=>{w(t.paneName),s.value.focus()},I=t=>{e.fontIconPlaceholder=t,e.fontIconPrefix=t,d("get",e.fontIconPrefix),d("update:modelValue",e.fontIconPrefix),s.value.focus()},z=()=>{e.fontIconPrefix="",d("clear",e.fontIconPrefix),d("update:modelValue",e.fontIconPrefix)},V=()=>{K(()=>{e.fontIconWidth=s.value.$el.offsetWidth})},A=()=>{window.addEventListener("resize",()=>{V()})};return $(()=>{w(v()),A(),V()}),G(()=>i.modelValue,()=>{b(),v()}),(t,o)=>{const l=p("SvgIcon"),B=p("el-input"),h=p("el-tab-pane"),W=p("el-tabs"),D=p("el-popover");return P(),S("div",Q,[a(B,{modelValue:e.fontIconSearch,"onUpdate:modelValue":o[0]||(o[0]=c=>e.fontIconSearch=c),placeholder:e.fontIconPlaceholder,clearable:n.clearable,disabled:n.disabled,size:n.size,ref_key:"inputWidthRef",ref:s,onClear:z,onFocus:C,onBlur:k},{prepend:r(()=>{var c,g;return[(e.fontIconPrefix===""?((c=n.prepend)==null?void 0:c.indexOf("ele-"))>-1:((g=e.fontIconPrefix)==null?void 0:g.indexOf("ele-"))>-1)?(P(),M(l,{key:0,name:e.fontIconPrefix===""?n.prepend:e.fontIconPrefix,class:"font14"},null,8,["name"])):(P(),S("i",{key:1,class:U([e.fontIconPrefix===""?n.prepend:e.fontIconPrefix,"font14"])},null,2))]}),_:1},8,["modelValue","placeholder","clearable","disabled","size"]),a(D,{placement:"bottom",width:e.fontIconWidth,transition:"el-zoom-in-top","popper-class":"icon-selector-popper",trigger:"click","virtual-ref":s.value,"virtual-triggering":""},{default:r(()=>[_("div",q,[_("div",H,j(n.title),1),a(W,{modelValue:e.fontIconTabActive,"onUpdate:modelValue":o[1]||(o[1]=c=>e.fontIconTabActive=c),onTabClick:T},{default:r(()=>[a(h,{lazy:"",label:"ali",name:"ali"},{default:r(()=>[a(f(m),{list:f(u),empty:n.emptyDescription,prefix:e.fontIconPrefix,onGetIcon:I},null,8,["list","empty","prefix"])]),_:1}),a(h,{lazy:"",label:"ele",name:"ele"},{default:r(()=>[a(f(m),{list:f(u),empty:n.emptyDescription,prefix:e.fontIconPrefix,onGetIcon:I},null,8,["list","empty","prefix"])]),_:1}),a(h,{lazy:"",label:"awe",name:"awe"},{default:r(()=>[a(f(m),{list:f(u),empty:n.emptyDescription,prefix:e.fontIconPrefix,onGetIcon:I},null,8,["list","empty","prefix"])]),_:1})]),_:1},8,["modelValue"])])]),_:1},8,["width","virtual-ref"])])}}});export{Ae as default};
